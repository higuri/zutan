{"version":3,"sources":["images/zutan.svg","SignIn.tsx","AppBar.tsx","SearchResult.tsx","mockData.js","WordSearch.tsx","MyZutan.tsx","App.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","SignInDiv","styled","div","_templateObject","SignIn","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","firebaseUIConfig","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","console","log","firebaseUI","reset","uiShown","setState","firebaseUIShown","credentialHelper","firebaseui","CredentialHelper","NONE","signInOptions","firebase","EmailAuthProvider","PROVIDER_ID","state","AuthUI","react_default","a","createElement","className","startFirebaseUI","stopFirebaseUI","start","Component","AppToolbar","Toolbar","AppBar_templateObject","AppBar","AppBar_default","position","IconButton_default","color","onClick","onClickMyZutan","PhotoLibrary_default","onClickHome","Home_default","ResultDiv","SearchResult_templateObject","MoreResultsDiv","_templateObject2","ResultImg","img","_templateObject3","ACard","Card","_templateObject4","SearchResult","cols","imageURLs","width","GridList_default","cellHeight","spacing","map","url","i","GridListTile_default","key","raised","onImageClicked","CardContent_default","src","length","Fab_default","variant","onMoreResultsClicked","KeyboardArrowDown_default","withWidth","mockSearchResult","fpath","process","mockMyZutanObjects","word","imageURL","obj","LogoImg","WordSearch_templateObject","MockVersionPaper","Paper","WordSearch_templateObject2","ProgressDiv","WordSearch_templateObject3","SearchForm","form","WordSearch_templateObject4","SearchTextField","TextField","_templateObject5","SearchButton","Button","_templateObject6","ImageDialog","Dialog","_templateObject7","SelectedImg","_templateObject8","AddButton","_templateObject9","ImageURL","query","fullsize","thumbnail","WordSearch","DEMO_STRING","queryText","isSearching","iSelectedImageURL","textField","React","createRef","onTextInputChanged","bind","assertThisInitialized","onSubmit","onDemoVersionPaperClick","onAddButtonClicked","onDialogClosed","isMock","thumbnailURLs","selectedImgSrc","src_AppBar","zutanIcon","alt","Tooltip_default","title","Typography_default","autoFocus","inputRef","type","value","onChange","CircularProgress_default","disableShrink","src_SearchResult","open","onClose","Add_default","style","marginLeft","window","e","_this2","preventDefault","current","blur","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","addMockResult","startImageSearch","stop","iImageURLs","zutanObject","addToMockObjects","addToFirestore","evt","target","iImages","history","push","user","currentUser","collection","doc","uid","add","fetch","response","json","urls","items","item","link","image","thumbnailLink","concat","MyZutanDiv","MyZutan_templateObject","MyZutan_templateObject2","MyZutan_templateObject3","WordImg","MyZutan_templateObject4","AGridList","SearchIcon","MyZutan_templateObject5","DeleteIcon","MyZutan_templateObject6","GridList","MyZutan_templateObject7","MyZutan","zutanObjects","isZutanObjectsReady","showMenuWord","showMenuElement","onMenuClosed","onShowMenuClicked","onDictionaryClicked","loadZutanMockObjects","loadZutanObjects","words","word2urls","forEach","hasOwnProperty","sort","_this$state","bShow","Boolean","MyZutan_ACard","CardHeader_default","avatar","Avatar_default","aria-label","toUpperCase","cardAvatar","action","MoreVert_default","MenuList_default","Menu_default","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem_default","ListItemIcon_default","Search_default","ListItemText_default","primary","cardAction","MyZutan_ProgressDiv","_this3","get","then","snapshot","objs","data","currentTarget","AppDiv","App_templateObject","App","isSignedIn","signInNeeded","generateClassName","createGenerateClassName","dangerouslyUseGlobalCSS","jss","create","objectSpread","jssPreset","insertionPoint","document","getElementById","AppMain","BrowserRouter","basename","Route","exact","path","render","_ref","src_WordSearch","_ref2","src_MyZutan","JssProvider_default","src_SignIn","addFirebaseAuthListener","onAuthStateChanged","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.916ca40e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/zutan.e200f990.svg\";","// SignIn.tsx\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport * as firebase from 'firebase';\nimport * as firebaseui from 'firebaseui';\nimport 'firebaseui/dist/firebaseui.css';\n\nconst SignInDiv = styled.div`\n  margin-top: 20px;\n`;\n\n// SignIn\ninterface SignInState {\n  firebaseUIShown: boolean;\n}\nclass SignIn extends Component<any, SignInState> {\n\n  // firebaseUI:\n  private firebaseUI: firebaseui.auth.AuthUI;\n\n  // firebaseUIConfig\n  firebaseUIConfig = {\n    callbacks: {\n      signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n        console.log('signInSuccessWithAuthResult:', authResult);\n        this.firebaseUI.reset();\n        return false;\n      },\n      uiShown: () => {\n        this.setState({firebaseUIShown: true});\n      }\n    },\n    credentialHelper: firebaseui.auth.CredentialHelper.NONE,\n    signInOptions: [\n      firebase.auth.EmailAuthProvider.PROVIDER_ID\n    ]\n  };\n\n\n  // SignIn()\n  constructor(props) {\n    super(props);\n    this.state = {\n      firebaseUIShown: false\n    }\n    this.firebaseUI = new firebaseui.auth.AuthUI(firebase.auth());\n  }\n\n  // render()\n  render() {\n    const uiShown = this.state.firebaseUIShown;\n    return (\n      <SignInDiv>\n        <div className=\"firebaseui-auth-container\"></div>\n        {!uiShown && <div>Loading...</div>}\n      </SignInDiv>\n    );\n  }\n\n  // componentDidMount()\n  componentDidMount() {\n    this.startFirebaseUI();\n  }\n\n  // componentWillUnmount()\n  componentWillUnmount() {\n    this.stopFirebaseUI();\n  }\n\n  // startFirebaseUI()\n  startFirebaseUI() {\n    this.firebaseUI.start(\n      '.firebaseui-auth-container',\n      this.firebaseUIConfig);\n  }\n\n  // stopFirebaseUI()\n  stopFirebaseUI() {\n    this.firebaseUI.reset();\n  }\n}\n\nexport default SignIn;\n","// AppBar.tsx\n\nimport React from 'react';\nimport styled from 'styled-components'\nimport MUIAppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport HomeIcon from '@material-ui/icons/Home';\nimport PhotoLibraryIcon from '@material-ui/icons/PhotoLibrary';\n\n// AppToolbar\nconst AppToolbar = styled(Toolbar)`\n  display: flex;\n  justify-content: flex-end;\n` as any;\n\n// AppBar\nconst AppBar = (props) => (\n  <MUIAppBar position=\"static\">\n    <AppToolbar>\n      <IconButton\n        color=\"inherit\"\n        onClick={props.onClickMyZutan}>\n        <PhotoLibraryIcon />\n      </IconButton>\n      <IconButton color=\"inherit\"\n        onClick={props.onClickHome}>\n        <HomeIcon />\n      </IconButton>\n    </AppToolbar>\n  </MUIAppBar>\n);\n\nexport default AppBar;\n","// SearchResult.tsx\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components'\nimport withWidth from '@material-ui/core/withWidth';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport Fab from '@material-ui/core/Fab';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\n\n// ResultDiv\nconst ResultDiv = styled.div`\n  margin: 10px;\n`;\n// MoreResultsDiv\nconst MoreResultsDiv = styled.div`\n  margin: 10px auto;\n  display: flex;\n  justify-content: center;\n`;\n// ResultImg\nconst ResultImg = styled.img`\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n`;\n// ACard\nconst ACard = styled(Card)`\n  margin: 10px;\n` as any;\n\n// SearchResultProps\ninterface SearchResultProps {\n  width: string;\n  imageURLs: string[];\n  onImageClicked: (iImages: number) => void;\n  onMoreResultsClicked: () => void;\n}\n\n// SearchResult\nclass SearchResult extends Component<SearchResultProps> {\n\n  // render()\n  render() {\n    const imageURLs = this.props.imageURLs;\n    const width = this.props.width;\n    let cols;\n    switch (width) {\n      case 'xs':\n        cols = 2;\n        break;\n      case 'sm':\n        cols = 4;\n        break;\n      default:\n        cols = 5;\n        break;\n    }\n    //\n    return (\n      <ResultDiv>\n        <GridList cols={cols} cellHeight=\"auto\" spacing={16}> { imageURLs.map((url, i) =>\n          <GridListTile key={url}>\n            <ACard raised onClick={() => this.props.onImageClicked(i)}>\n              <CardContent>\n                <ResultImg src={url} />\n              </CardContent>\n            </ACard>\n          </GridListTile>)}\n        </GridList> { (0 < this.props.imageURLs.length) && \n        <MoreResultsDiv>\n          <Fab\n            variant=\"extended\"\n            onClick={this.props.onMoreResultsClicked}>\n            <KeyboardArrowDownIcon />\n            More Results\n          </Fab>\n        </MoreResultsDiv> }\n      </ResultDiv>\n    );\n  }\n}\n\nexport default withWidth()(SearchResult);\n","// mockData.js\n\n// mockSearchResult:\nconst mockSearchResult = [\n  '/mockdata/apple01.jpg',\n  '/mockdata/apple02.jpg',\n  '/mockdata/apple03.jpg',\n  '/mockdata/apple04.jpg',\n  '/mockdata/apple05.jpg',\n  '/mockdata/apple06.jpg',\n  '/mockdata/apple07.jpg',\n  '/mockdata/apple08.jpg',\n  '/mockdata/apple09.jpg',\n  '/mockdata/apple10.jpg'\n].map(fpath => process.env.PUBLIC_URL + fpath);\n\n// mockMyZutanObjects\nlet mockMyZutanObjects = [\n  {\n    word: 'doggy',\n    imageURL: '/mockdata/doggy01.jpg'\n  },\n  {\n    word: 'doggy',\n    imageURL: '/mockdata/doggy02.jpg'\n  },\n  {\n    word: '麵條',\n    imageURL: '/mockdata/noodle01.jpg'\n  },\n  {\n    word: '麵條',\n    imageURL: '/mockdata/noodle02.jpg'\n  },\n  {\n    word: '군중',\n    imageURL: '/mockdata/crowd01.jpg'\n  },\n  {\n    word: '군중',\n    imageURL: '/mockdata/crowd02.jpg'\n  }\n].map(obj => {\n  return {\n    word: obj.word,\n    imageURL: process.env.PUBLIC_URL + obj.imageURL\n  };\n});\n\nexport {\n  mockSearchResult,\n  mockMyZutanObjects\n}\n","// WordSearch.tsx\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Dialog from '@material-ui/core/Dialog';\nimport TextField from '@material-ui/core/TextField';\nimport AddIcon from '@material-ui/icons/Add';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport * as firebase from 'firebase';\n\nimport AppBar from './AppBar';\nimport SearchResult from './SearchResult';\nimport {GOOGLE_CUSTOM_SEARCH_API_KEY} from './config';\nimport {GOOGLE_CUSTOM_SEARCH_ENGINE_ID} from './config';\nimport zutanIcon from './images/zutan.svg';\nimport {mockSearchResult, mockMyZutanObjects} from './mockData';\n\n// LogoImg\nconst LogoImg = styled.img`\n  display: block;\n  width: 225px;\n  margin: 20px auto;\n`;\n// MockVersionPaper\nconst MockVersionPaper = styled(Paper)`\n  width: 230px;\n  margin: 20px auto;\n  text-align: center;\n` as any;\n// ProgressDiv\nconst ProgressDiv = styled.div`\n  width: 100%;\n  margin-top: 50px;\n  display: flex;\n  justify-content: center;\n`;\n// SearchForm\nconst SearchForm = styled.form`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n// SearchTextField\nconst SearchTextField = styled(TextField)`\n  margin-left: auto;\n  margin-right: auto;\n` as any;\n// SearchButton\nconst SearchButton = styled(Button)`\n  margin-top: 20px;\n` as any;\nconst ImageDialog = styled(Dialog)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n` as any;\n// SelectedImg\nconst SelectedImg = styled.img`\n  width: 300px;\n  object-fit: contain;\n  margin: 20px;\n`;\n// AddButton\nconst AddButton = styled(Button)`\n  height: 20px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n` as any;\n\n// ImageURL\nclass ImageURL {\n  // ImageURL\n  constructor(\n    public query: string,\n    public fullsize: string,\n    public thumbnail: string) {}\n}\n\n// WordSearch\ninterface WordSearchState {\n  queryText: string;\n  isSearching: boolean;\n  imageURLs: ImageURL[];\n  iSelectedImageURL: number | null;\n}\nclass WordSearch extends Component<any, WordSearchState> {\n\n  // DEMO_STRING \n  private readonly DEMO_STRING =\n    \"This is a demo version. \" +\n    \"In this version, the image search results are always the same. \" +\n    \"Click here to see how to build a full version.\";\n\n  // textField\n  private textField: any;\n\n  // WordSearch\n  constructor(props) {\n    super(props);\n    this.state = {\n      queryText: '',\n      isSearching: false,\n      imageURLs: [],\n      iSelectedImageURL: null\n    };\n    this.textField = React.createRef();\n    this.onTextInputChanged = this.onTextInputChanged.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onDemoVersionPaperClick = this.onDemoVersionPaperClick.bind(this);\n    this.onAddButtonClicked = this.onAddButtonClicked.bind(this);\n    this.onImageClicked = this.onImageClicked.bind(this);\n    this.onMoreResultsClicked = this.onMoreResultsClicked.bind(this);\n    this.onDialogClosed = this.onDialogClosed.bind(this);\n    this.onClickHome = this.onClickHome.bind(this);\n    this.onClickMyZutan = this.onClickMyZutan.bind(this);\n  }\n\n  // render()\n  render() {\n    const isMock = this.props.isMock;\n    const isSearching = this.state.isSearching;\n    const thumbnailURLs = this.state.imageURLs.map(\n      (url) => url.thumbnail\n    );\n    const selectedImgSrc = this.state.iSelectedImageURL === null ?\n        \"\" : this.state.imageURLs[this.state.iSelectedImageURL!].fullsize;\n    return (\n      <div>\n        <AppBar\n          onClickHome={this.onClickHome}\n          onClickMyZutan={this.onClickMyZutan} />\n        <LogoImg\n          src={zutanIcon}\n          alt=\"logo\">\n        </LogoImg> {isMock ?\n        <Tooltip title={this.DEMO_STRING}>\n          <MockVersionPaper onClick={this.onDemoVersionPaperClick}>\n            <Typography variant=\"h6\">\n              Demo Version\n            </Typography>\n          </MockVersionPaper>\n        </Tooltip> : null}\n        <SearchForm onSubmit={this.onSubmit}>\n          <SearchTextField\n            autoFocus={true}\n            inputRef={this.textField}\n            type=\"search\"\n            variant=\"outlined\"\n            value={this.state.queryText}\n            onChange={this.onTextInputChanged} />\n          <SearchButton\n            type=\"submit\"\n            variant=\"outlined\">\n            ZU\n          </SearchButton>\n        </SearchForm> { isSearching ?\n        <ProgressDiv>\n          <CircularProgress disableShrink />\n        </ProgressDiv> :\n        <SearchResult\n          imageURLs={thumbnailURLs}\n          onImageClicked={this.onImageClicked}\n          onMoreResultsClicked={this.onMoreResultsClicked} /> }\n        <ImageDialog\n          open={this.state.iSelectedImageURL !== null}\n          onClose={this.onDialogClosed}>\n            <SelectedImg src={selectedImgSrc} />\n            <AddButton\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={this.onAddButtonClicked}>\n              ADD TO MY ZUTAN\n              <AddIcon style={{marginLeft: '10px'}} />\n            </AddButton>\n        </ImageDialog>\n      </div>\n    );\n  }\n\n  // onDemoVersionPaperClick()\n  onDemoVersionPaperClick(): void {\n    const url = 'https://github.com/higuri/zutan#deployment-on-your-site';\n    window.open(url);\n  }\n\n  // onSubmit()\n  onSubmit(e): void {\n    e.preventDefault();\n    this.textField.current.blur();\n    this.setState({\n      imageURLs: [],\n      isSearching: true\n    }, async () => {\n      if (this.props.isMock) {\n        this.addMockResult();\n      } else {\n        await this.startImageSearch(this.state.queryText);\n      }\n      this.setState({isSearching: false});\n    });\n  }\n\n  // onAddButtonClicked()\n  onAddButtonClicked(): void {\n    const iImageURLs = this.state.iSelectedImageURL;\n    if (iImageURLs === null) {\n      return;\n    }\n    const imageURL = this.state.imageURLs[iImageURLs];\n\t\tconst zutanObject = {\n\t\t\tword: imageURL.query,\n\t\t\timageURL: imageURL.fullsize\n\t\t};\n\t\tif (this.props.isMock) {\n\t\t\tthis.addToMockObjects(zutanObject);\n\t\t} else {\n\t\t\tthis.addToFirestore(zutanObject);\n\t\t}\n    this.setState({iSelectedImageURL: null});\n  }\n\n  // onTextInputChanged()\n  onTextInputChanged(evt) {\n    this.setState({queryText: evt.target.value});\n  }\n\n  // onImageClicked()\n  onImageClicked(iImages: number): void {\n    this.setState({iSelectedImageURL: iImages});\n  }\n\n  // onMoreResultsClicked()\n  onMoreResultsClicked(): void {\n    if (!this.props.isMock) {\n      this.startImageSearch(this.state.queryText);\n    }\n  }\n\n  // onDialogClosed()\n  onDialogClosed() {\n    this.setState({iSelectedImageURL: null});\n  }\n\n  // onClickHome()\n  onClickHome() {\n    this.setState({\n      queryText: '',\n      imageURLs: []\n    });\n    this.props.history.push('/');\n  }\n\n  // onClickMyZutan()\n  onClickMyZutan() {\n    this.props.history.push('/myzutan');\n  }\n\n\t// addToFirestore()\n\tprivate addToFirestore(zutanObject: any): void {\n    // TODO: props?\n    const user = firebase.auth().currentUser; \n    if (user !== null) {\n      // TODO: error handling. async?\n      const db = firebase.firestore();\n      db.collection('users').doc(user.uid)\n        .collection('zutan').add(zutanObject);\n    }\n\t}\n\n\t// addToMockObjects()\n\tprivate addToMockObjects(zutanObject: any): void {\n    mockMyZutanObjects.push({\n      word: zutanObject.word,\n      imageURL: zutanObject.imageURL\n    });\n\t}\n\n  // startImageSearch()\n  async startImageSearch(query) {\n    const imageURLs = this.state.imageURLs;\n    const url = 'https://www.googleapis.com/customsearch/v1' +\n      '?key=' + GOOGLE_CUSTOM_SEARCH_API_KEY + \n      '&cx=' + GOOGLE_CUSTOM_SEARCH_ENGINE_ID + \n      '&num=' + 10 +\n      '&start=' + (imageURLs.length + 1) +\n      '&searchType=image' +\n      '&q=' + query;\n    // console.log(url);\n    const response = await fetch(url);\n    const json = await response.json();\n    // console.log(json);\n    let urls: ImageURL[] = [];\n    for (let i = 0; i < json.items.length; i++) {\n      const item = json.items[i];\n      urls.push(new ImageURL(\n        query, item.link, item.image.thumbnailLink)\n      );\n    }\n    this.setState({\n      imageURLs: imageURLs.concat(urls)\n    });\n  }\n\n  // addMockResult()\n  private addMockResult() {\n    const query = 'apple';\n    // queryText: \n    this.setState({queryText: query});\n    // searchResult:\n    const imageURLs = mockSearchResult.map((fpath) => {\n      // thumbnail === fullsize\n      return new ImageURL(query, fpath, fpath);\n    });\n    this.setState({imageURLs: imageURLs});\n  }\n}\n\nexport default WordSearch;\n","// MyZutan.tsx\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components'\nimport withWidth from '@material-ui/core/withWidth';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport Avatar from '@material-ui/core/Avatar';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport Menu from '@material-ui/core/Menu';\nimport MenuList from '@material-ui/core/MenuList';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport * as firebase from 'firebase';\n\nimport {mockMyZutanObjects} from './mockData';\nimport AppBar from './AppBar';\n\n// MyZutanDiv\nconst MyZutanDiv = styled.div`\n  margin: 10px;\n`;\n// ProgressDiv\nconst ProgressDiv = styled.div`\n  width: 100%;\n  margin-top: 50px;\n  display: flex;\n  justify-content: center;\n`;\n// ACard\nconst ACard = styled(Card)`\n  margin: 15px;\n` as any;\n// WordImg\nconst WordImg = styled.img`\n  max-width: 100%;\n  max-height: 100%;\n  padding: 0 10px;\n  object-fit: contain;\n  object-position: 0 50%;\n`;\n// ASearchIcon\nconst ASearchIcon = styled(SearchIcon)`\n  position: absolute;\n  right: 5px;\n` as any;\n// ADeleteIcon\nconst ADeleteIcon = styled(DeleteIcon)`\n  position: absolute;\n  right: 5px;\n` as any;\n// AGridList\nconst AGridList = styled(GridList)`\n  flex-wrap: nowrap;\n` as any;\n\n// MyZutan\ninterface MyZutanState {\n  zutanObjects: any[];\n  isZutanObjectsReady: boolean;\n  showMenuWord: string | null;\n  showMenuElement: HTMLElement | null;\n}\nclass MyZutan extends Component<any, MyZutanState> {\n\n  // MyZutan\n  constructor(props) {\n    super(props);\n    this.state = {\n      zutanObjects: [],\n      isZutanObjectsReady: false,\n      showMenuWord: null,\n      showMenuElement: null\n    }\n    this.onMenuClosed = this.onMenuClosed.bind(this);\n    this.onShowMenuClicked = this.onShowMenuClicked.bind(this);\n    this.onDictionaryClicked = this.onDictionaryClicked.bind(this);\n    this.onClickHome = this.onClickHome.bind(this);\n    this.onClickMyZutan = this.onClickMyZutan.bind(this);\n  }\n\n  // componentDidMount()\n  componentDidMount() {\n    if (this.props.isMock) {\n      this.loadZutanMockObjects();\n    } else {\n      this.loadZutanObjects();\n    }\n  }\n\n  // render()\n  render() {\n    if (!this.state.isZutanObjectsReady) {\n      return (\n        <div>\n          <AppBar\n            onClickHome={this.onClickHome}\n            onClickMyZutan={this.onClickMyZutan} />\n          <ProgressDiv>\n            <CircularProgress disableShrink />\n          </ProgressDiv>\n        </div>\n      );\n    } else {\n      // words\n      let words: string[] = [];\n      let word2urls = {};\n      this.state.zutanObjects.forEach((obj) => {\n        if (word2urls.hasOwnProperty(obj.word)) {\n          word2urls[obj.word].push(obj.imageURL);\n        } else {\n          word2urls[obj.word] = [obj.imageURL];\n          words.push(obj.word);\n        }\n      })\n      words.sort();\n      const width = this.props.width;\n      let cols;\n      switch (width) {\n        case 'xs':\n          cols = 1;\n          break;\n        case 'sm':\n          cols = 2;\n          break;\n        default:\n          cols = 3;\n          break;\n      }\n      const {showMenuWord, showMenuElement} = this.state;\n      const bShow = Boolean(showMenuElement);\n      const cardAvatar = (word) => (\n        <Avatar aria-label=\"Word\">\n          {word[0] && word[0].toUpperCase()}\n        </Avatar>\n      );\n      const cardAction = (word) => (\n        <div>\n          <IconButton\n            onClick={(evt) => this.onShowMenuClicked(evt, word)}>\n            <MoreVertIcon />\n          </IconButton>\n          <MenuList>\n            <Menu\n              anchorEl={showMenuElement}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={bShow}\n              onClose={this.onMenuClosed}\n            >\n              <MenuItem onClick={() => {\n                this.onDictionaryClicked(showMenuWord!)}}>\n                <ListItemIcon>\n                  <SearchIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Wikitionary\" />\n              </MenuItem>\n              {/* TODO\n              <MenuItem>\n                <ListItemIcon>\n                  <ADeleteIcon />\n                </ListItemIcon>\n                <ListItemText primary=\"Delete\" />\n              </MenuItem>\n              */}\n            </Menu>\n          </MenuList>\n        </div>\n      );\n      //\n      return (\n        <div>\n          <AppBar\n            onClickHome={this.onClickHome}\n            onClickMyZutan={this.onClickMyZutan} />\n          <MyZutanDiv>\n            <GridList cols={cols} cellHeight=\"auto\" spacing={16}> { words.map((word, i) =>\n              <GridListTile key={word}>\n                <ACard raised>\n                  <CardHeader\n                    avatar={cardAvatar(word)}\n                    action={cardAction(word)}\n                    title={word} />\n                  <CardContent>\n                    <AGridList cols={1.2}> {word2urls[word].map(url => (\n                      <GridListTile key={url}>\n                        <WordImg src={url} alt={word} />\n                      </GridListTile> ))}\n                    </AGridList>\n                  </CardContent>\n                </ACard>\n              </GridListTile> )}\n            </GridList>\n          </MyZutanDiv>\n        </div>\n      );\n    }\n  }\n\n  // loadZutanObjects()\n  private loadZutanObjects(): void {\n    // TODO: props?\n    const user = firebase.auth().currentUser; \n    if (user !== null) {\n      const zutan = firebase.firestore()\n        .collection('users').doc(user.uid)\n        .collection('zutan');\n      zutan.get().then((snapshot) => {\n        let objs: any[] = []\n        snapshot.forEach((doc) => {\n          let data = doc.data()\n          objs.push({\n            word: data.word,\n            imageURL: data.imageURL\n          });\n        })\n        this.setState({\n          zutanObjects: objs,\n          isZutanObjectsReady: true\n        });\n      });\n    }\n  }\n  \n  // loadZutanMockObjects()\n  private loadZutanMockObjects(): void {\n    this.setState({\n      zutanObjects: mockMyZutanObjects,\n      isZutanObjectsReady: true\n    });\n  }\n\n  // onClickHome()\n  private onClickHome() {\n    this.props.history.push('/');\n  }\n\n  // onClickMyZutan()\n  private onClickMyZutan() {\n    this.props.history.push('/myzutan');\n  }\n\n  // onMenuClosed()\n  private onMenuClosed(): void {\n    this.setState({ showMenuElement: null });\n  }\n\n  // onShowMenuClicked()\n  // TODO: any -> MouseEvent<HTMLElement> ??\n  private onShowMenuClicked(evt: any, word: string): void {\n    this.setState({\n      showMenuWord: word,\n      showMenuElement: evt.currentTarget\n    });\n  }\n\n  // onDictionaryClicked()\n  private onDictionaryClicked(word: string): void {\n    // weblio: for Japanese\n    // const url = 'https://ejje.weblio.jp/content/';\n    // Wikitionary\n    const url = 'https://en.wiktionary.org/wiki/';\n    window.open(url + word);\n    this.onMenuClosed();\n  }\n}\n\nexport default withWidth()(MyZutan);\n","// App.tsx\n\nimport React, {Component} from 'react';\nimport {BrowserRouter as Router, Route, Redirect} from 'react-router-dom';\nimport JssProvider from 'react-jss/lib/JssProvider';\nimport {create} from 'jss';\nimport {createGenerateClassName, jssPreset} from '@material-ui/core/styles';\nimport styled from 'styled-components'\nimport * as firebase from 'firebase';\nimport SignIn from './SignIn';\nimport WordSearch from './WordSearch';\nimport MyZutan from './MyZutan';\n\n// AppDiv\nconst AppDiv = styled.div`\n  width: 100%;\n  height: 100%;\n`;\n\n// App\ninterface AppState {\n  isSignedIn: boolean;\n}\nclass App extends Component<any, AppState> {\n\n  // App()\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSignedIn: false\n    }\n  }\n\n  // render()\n  render() {\n    const isMock = this.props.isMock;\n    const signInNeeded = isMock ?  false : !this.state.isSignedIn;\n    // material-ui\n    const generateClassName = createGenerateClassName({\n      // XXX: Without this, the style of <Grid> in SearchResultRow \n      //      will break in production build.\n      // # cleaner fix needed\n      dangerouslyUseGlobalCSS: true\n    });\n    const jss = create({\n      ...jssPreset(),\n      insertionPoint: document.getElementById('jss-insertion-point')!\n    });\n    // AppMain\n    const AppMain = (\n      <Router basename={process.env.PUBLIC_URL}>\n        <div>\n          <Route exact path=\"/\" render={({history}) =>\n            <WordSearch\n              history={history}\n              isMock={isMock} />}\n          />\n          <Route path=\"/myzutan\" render={({history}) =>\n            <MyZutan\n              history={history}\n              isMock={isMock} />}\n          />\n        </div>\n      </Router>\n    );\n    return (\n      <JssProvider jss={jss} generateClassName={generateClassName}>\n        <AppDiv>\n          {signInNeeded ?  <SignIn /> : AppMain}\n        </AppDiv>\n      </JssProvider>\n    );\n  }\n\n  // componentDidMount()\n  componentDidMount() {\n    if (!this.props.isMock) {\n      this.addFirebaseAuthListener();\n    }\n  }\n\n  // addFirebaseAuthListener()\n  addFirebaseAuthListener() {\n    firebase.auth().onAuthStateChanged((user) => {\n      //console.log('onAuthStateChanged:', user);\n      if (user) {\n        this.setState({isSignedIn: true});\n      } else {\n        this.setState({isSignedIn: false});\n      }\n    });\n  }\n}\n\nexport default App;\n","// index.tsx\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as firebase from 'firebase';\nimport './index.css';\nimport App from './App';\nimport * as config from './config';\n\nconsole.log('process.env.REACT_APP_MOCK: ' + process.env.REACT_APP_MOCK);\nconsole.log('process.env.PUBLIC_URL: ' + process.env.PUBLIC_URL);\n\nlet isMock = false;\nif (process.env.REACT_APP_MOCK) {\n  isMock = true;\n} else {\n  require(\"firebase/firestore\");\n  // @ts-ignore: will always return 'true' when config.js set.\n  const isValidConfig = (config.GOOGLE_CUSTOM_SEARCH_API_KEY !== '' && config.GOOGLE_CUSTOM_SEARCH_ENGINE_ID !== '' && Object.keys(config.FIREBASE_CONFIG).filter(v => v === '').length === 0);\n  if (isValidConfig) {\n    firebase.initializeApp(config.FIREBASE_CONFIG);\n    firebase.firestore().settings({\n      timestampsInSnapshots: true\n    });\n  } else {\n    console.error('\"config.js\" is not configured properly. ' +\n      ' Follow the zutan/README.');\n  }\n}\nReactDOM.render(<App isMock={isMock} />, document.getElementById('root'));\n"],"sourceRoot":""}